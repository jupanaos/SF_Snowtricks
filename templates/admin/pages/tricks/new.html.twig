{% extends "admin/layout.html.twig" %}

{% block content %}

    <section class="main-content">
    
        <h1>Créer une figure</h1>

        {{ form_start(addTrickForm, {'attr': {'class': 'form-container'}}) }}
            {{ form_row(addTrickForm.title) }}
            {{ form_errors(addTrickForm.title) }}
            {{ form_row(addTrickForm.description) }}
            {{ form_errors(addTrickForm.description) }}

            {{ form_row(addTrickForm.trick_category) }}

            <div class="flex flex-col gap-4">
                <ul class="pictures"
                    data-index="{{ addTrickForm.pictures|length > 0 ? addTrickForm.pictures|last.vars.name + 1 : 0 }}"
                    data-prototype="{{ form_widget(addTrickForm.pictures.vars.prototype)|e('html_attr') }}"
                    >
                        {% for pictureField in addTrickForm.pictures %}
                            <li>
                                {{ form_row(pictureField) }}
                            </li>
                        {% endfor %}
                </ul>
                <button class="add_item_link button-secondary" type="button" data-collection-holder-class="pictures">Ajouter une image</button>
            </div>
            <div class="flex flex-col gap-4">
                <ul class="videos"
                    data-index="{{ addTrickForm.videos|length > 0 ? addTrickForm.videos|last.vars.name + 1 : 0 }}"
                    data-prototype="{{ form_widget(addTrickForm.videos.vars.prototype)|e('html_attr') }}"
                    >
                        {% for videoField in addTrickForm.videos %}
                            <li>
                                {{ form_row(videoField) }}
                            </li>
                        {% endfor %}
                </ul>
                <button class="add_item_link button-secondary" type="button" data-collection-holder-class="videos">Ajouter une vidéo</button>
            </div>
            <button type="submit" class="button-primary self-end">Publier</button>
        {{ form_end(addTrickForm) }}
    </section>
{% endblock %}


